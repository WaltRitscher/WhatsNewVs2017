@model RouxAcademyWebApp.Models.ViewModels.LoanViewModel
@{
	ViewBag.Title = "StudentLoan";
	Layout = "~/Views/Shared/_LayoutOther.cshtml";
}


<article id="mainContent">
	<h1>Student Loan</h1>

	<p>Enter your values and click the calculate button to see our low payments!</p>
	@Html.LabelFor(model => model.Loan.Amount)
	@Html.TextBoxFor(model => model.Loan.Amount, new { @class = "loan" })
	@Html.LabelFor(model => model.Loan.Rate)
	@Html.TextBoxFor(model => model.Loan.Rate, new { @class = "loan" })
	@Html.LabelFor(model => model.Loan.LengthInMonths)
	@Html.TextBoxFor(model => model.Loan.LengthInMonths, new { @class = "loan" })
	@*<input type=text id="annualRate" value=".12"  style="display:block;margin:10px"/>*@
	@*<input type=text id="numPayments" value="24" style="display:block;margin:10px"/>*@
	<input type="button" id="loadContent" value="Calculate" style="display:block;margin:10px" />

	<div id="results"></div>
	<div id="error"></div>
</article>


@Scripts.Render("~/bundles/jquery")
<script src="~/Scripts/Loan.js"></script>

<script type="text/javascript">

		$("#loadContent").click(function () {
		 //	debugger; //necessary in some cases to debug in .cshtml files

			var loanAmount = $("#@Html.IdFor(model=>model.Loan.Amount)").val();
			var annualRate = $("#@Html.IdFor(model => model.Loan.Rate)").val();
			var numPayments = $("#@Html.IdFor(model => model.Loan.LengthInMonths)").val();

			var result = GetMonthlyLoanPayment(loanAmount, annualRate, numPayments);
			$("#results").html(result);

		});
</script>

